#ifndef _IMP_MAGIC_UNIT_HPP_
#define _IMP_MAGIC_UNIT_HPP_

#include < list >
#include < memory >

#include "API_Magic_Unit.hpp"
#include "IMP_Unit.hpp"
#include "spell.hpp"


//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//

namespace GameModel {
namespace Implementation {
	
//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//

	typedef
		std::list<  Spell * >
		spellContainer;

//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//

	typedef
	GameModel::Implementation::Unit< GameModel::MagicUnit >
	MagicUnitBase;

//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//

	class MagicUnit
		:	public MagicUnitBase
	{
		
//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//
	
	public:

		MagicUnit(
				const int _unitID
			,	const double _maxHP
			,	const double _attackRate
			,	const double _defenseRate
			,	const double _maxMPU
			,	const spellContainer & _spells)
		: MagicUnitBase (
					_unitID
				,	_maxHP
				,	_attackRate
				,	_defenseRate)
		,	m_curentMPU( _maxMPU )
		,	m_maxMPU( _maxMPU )
		,	m_spells( _spells )
		{}

		MagicUnit(const MagicUnit & _other) = delete;
		MagicUnit & operator = (const MagicUnit & _other) = delete;

		virtual double getCurentMPU () const override;
		virtual double getMaxMPU () const override;



//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//
	
	private:
	
		double m_curentMPU;
		double m_maxMPU;
		spellContainer m_spells;

	};

//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//
	
} // namespace Implementation
} // namespace GameModel

//*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//


#endif // !_IMP_MAGIC_UNIT_HPP_
